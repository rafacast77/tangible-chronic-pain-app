(this.webpackJsonptangible=this.webpackJsonptangible||[]).push([[0],{113:function(e,t,n){e.exports={"time-periods-container":"TimePeriods_time-periods-container__3QZ4a","time-container":"TimePeriods_time-container__1ssTC"}},231:function(e,t,n){e.exports={card:"Card_card__IvIPt"}},282:function(e,t,n){},424:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(27),r=n.n(c),o=n(66),s=(n(282),n(30)),l=n(13),d=n(78),u=n(42),j=n(8),h=n(462),b=n(467),p=n(261),m=n(468),f=n(231),g=n.n(f),O=n(1);var x=function(e){var t=e.newStyle;return Object(O.jsx)("div",{className:g.a.card,style:t,children:e.children})},v=n(426),y=n(465),T=n(492),S=n(233),w=n.n(S),N=Object(h.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(4),margin:"auto",maxWidth:700,marginBottom:"2rem",borderRadius:"56px",boxShadow:"3px 3px 8px rgba(0, 0, 0, 0.2)",border:"1px solid #f3f3f3"},painCircle:{fontSize:"2rem",width:70,height:70,backgroundColor:function(e){return e.circleColor},color:"black"},time:{marginTop:".5rem",color:"#333"},remove:{color:"#f44336"},medicine:{color:"#077d0b",fontFamily:"Roboto",fontSize:"19px",marginRight:".5rem"},treatment:{color:"#077d0b",fontFamily:"Roboto",fontSize:"19px"}}})),I=function(e){var t=e.entry;console.log(t,"currententry");var n,a=N({circleColor:(n=t.painScale,0===n?"rgba(6, 209, 255, 0.496)":1===n||2===n||3===n?"rgba(6, 255, 43, 0.496)":4===n||5===n||6===n?" rgba(255, 234, 6, 0.626)":7===n||8===n||9===n?"rgba(255, 176, 6, 0.728)":10===n?"rgba(255, 6, 6, 0.633)":void 0)});return Object(O.jsx)("div",{className:a.root,children:Object(O.jsx)(v.a,{className:a.paper,children:Object(O.jsxs)(y.a,{container:!0,spacing:5,children:[Object(O.jsxs)(y.a,{xs:2,item:!0,direction:"column",children:[Object(O.jsx)(T.a,{className:a.painCircle,children:t.painScale}),Object(O.jsx)(p.a,{className:a.time,variant:"body1",children:t.date.time})]}),Object(O.jsxs)(y.a,{align:"left",item:!0,xs:8,sm:!0,container:!0,children:[Object(O.jsx)(y.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(O.jsxs)(y.a,{item:!0,xs:!0,children:[Object(O.jsx)(p.a,{gutterBottom:!0,variant:"subtitle1",children:t.painLocation&&1===t.painLocation.length?"Pain location:":"Pain locations:"}),Object(O.jsx)(p.a,{color:"blueGrey",gutterBottom:!0,variant:"body1",children:t.painLocation?t.painLocation.join(" - "):"No location specified"}),Object(O.jsx)(p.a,{gutterBottom:!0,variant:"subtitle1",children:"Comments:"}),Object(O.jsx)(p.a,{variant:"body1",gutterBottom:!0,children:""!==t.comments?t.comments:"No comments"}),Object(O.jsx)(p.a,{gutterBottom:!0,variant:"subtitle1",children:"Medicine:"}),Object(O.jsxs)(y.a,{container:!0,xs:!0,direction:"row",children:[Object(O.jsx)(y.a,{item:!0,xs:6,children:Object(O.jsxs)(p.a,{className:a.medicine,gutterBottom:!0,children:[t.medicine&&0!==t.medicine.length?t.medicine[0].medicationName:"No medicine specified"," "]})}),Object(O.jsx)(y.a,{item:!0,xs:2,children:Object(O.jsx)(p.a,{variant:"subtitle1",gutterBottom:!0,children:t.medicine&&0!==t.medicine.length?"Dose: "+t.medicine[0].dose:""})}),Object(O.jsx)(y.a,{item:!0,xs:4,children:Object(O.jsx)(p.a,{variant:"subtitle1",gutterBottom:!0,children:t.medicine&&0!==t.medicine.length?"Effect: "+t.medicine[0].effect:""})})]}),Object(O.jsx)(p.a,{gutterBottom:!0,variant:"subtitle1",children:"Treatment:"}),Object(O.jsxs)(y.a,{container:!0,xs:!0,direction:"row",children:[Object(O.jsx)(y.a,{item:!0,xs:8,children:Object(O.jsxs)(p.a,{className:a.treatment,gutterBottom:!0,children:[t.treatment&&0!==t.treatment.length?t.treatment[0].treatmentName:"No treatment specified"," "]})}),Object(O.jsx)(y.a,{item:!0,xs:4,children:Object(O.jsx)(p.a,{variant:"subtitle1",gutterBottom:!0,children:t.treatment&&0!==t.treatment.length?"Effect: "+t.treatment[0].effect:" "})})]})]})}),Object(O.jsx)(y.a,{item:!0,xs:2,align:"right",children:Object(O.jsx)(p.a,{variant:"subtitle1",children:Object(O.jsx)(p.a,{variant:"body2",style:{cursor:"pointer"},className:a.remove,children:Object(O.jsx)(w.a,{fontSize:"large"})})})})]})]})})})},C=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],k=Object(h.a)((function(e){return{day:{color:"#666",margin:"auto",marginBottom:"3.1rem",width:500,textAlign:"center",borderBottom:"2px solid #666",lineHeight:"0.1em","&:first-child":{marginTop:"1.8rem"},"& span":{color:"#666",margin:"auto",background:"#fff",padding:"0 10px"}}}})),E=function(e){var t,n=e.currentDay,a=e.entries,i=k({});return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{className:i.day,variant:"h5",children:Object(O.jsxs)("span",{children:[" ",(t=n,C[new Date(t).getDay()]+" "+new Date(t).getDate())]})}),a.map((function(e){return Object(O.jsx)(I,{entry:e})}))]})},D=n(466),U=n(121),M=n.n(U),L=n(122),B=n.n(L),A=i.a.createContext({token:"",userUID:"",userEmail:"",userToSpectUID:"",isLoggedIn:!1,isPainUser:null,login:function(e){},logout:function(){},getUserUID:function(e){},getIsPainUser:function(e){},getUserToSpectUID:function(e){},getUserEmail:function(e){}}),P=function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userUID"),i=localStorage.getItem("userToSpectUID"),c=localStorage.getItem("isPainUser"),r=localStorage.getItem("userEmail"),o=Object(a.useState)(t),s=Object(j.a)(o,2),l=s[0],d=s[1],u=Object(a.useState)("true"===c),h=Object(j.a)(u,2),b=h[0],p=h[1],m=Object(a.useState)(n),f=Object(j.a)(m,2),g=f[0],x=f[1],v=Object(a.useState)(i),y=Object(j.a)(v,2),T=y[0],S=y[1],w=Object(a.useState)(r),N=Object(j.a)(w,2),I=N[0],C=N[1],k={token:l,isLoggedIn:!!l,isPainUser:b,userToSpectUID:T,userUID:g,userEmail:I,login:function(e){d(e),localStorage.setItem("token",e)},logout:function(){d(null),localStorage.removeItem("userUID"),localStorage.removeItem("userToSpectUID"),localStorage.removeItem("userEmail"),localStorage.removeItem("token"),localStorage.removeItem("isPainUser")},getUserUID:function(e){x(e),localStorage.setItem("userUID",e)},getUserToSpectUID:function(e){S(e),localStorage.setItem("userToSpectUID",e)},getIsPainUser:function(e){p(e),localStorage.setItem("isPainUser",e)},getUserEmail:function(e){C(e),localStorage.setItem("userEmail",e)}};return Object(O.jsx)(A.Provider,{value:k,children:e.children})},F=A,z=Object(h.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"center"},swapBar:{marginLeft:e.spacing(4.2),marginRight:e.spacing(4.2)}}})),R=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new Date(e);return n=t?new Date(n.getFullYear(),n.getMonth()+1,1).toLocaleDateString("en-GB",{month:"long",year:"numeric"}):new Date(n.getFullYear(),n.getMonth()-1,1).toLocaleDateString("en-GB",{month:"long",year:"numeric"})},q=new Date((new Date).getFullYear(),(new Date).getMonth(),1).toLocaleDateString("en-GB",{month:"long",year:"numeric"}),W=function(){var e,t=Object(a.useContext)(F);e=t.isPainUser?t.userUID:t.userToSpectUID;var n=z(),i=Object(a.useState)([]),c=Object(j.a)(i,2),r=c[0],o=c[1],s=Object(a.useState)(q),h=Object(j.a)(s,2),f=h[0],g=h[1],v=Object(a.useState)([]),T=Object(j.a)(v,2),S=T[0],w=T[1],N=Object(a.useState)(),I=Object(j.a)(N,2),C=I[0],k=I[1],U=Object(a.useState)(!0),L=Object(j.a)(U,2),A=L[0],P=L[1],W=Object(a.useState)(!0),G=Object(j.a)(W,2),_=G[0],V=G[1],J=Object(a.useState)(!1),H=Object(j.a)(J,2),Y=H[0],Q=H[1],K=function(){g(R(f))},Z=function(){g(R(f,!1))},X=function(e){var t=[],n=[],a=[];for(var i in e)t.push(Date.parse(new Date(e[i].date.date)));t.sort((function(e,t){return e-t})),t.forEach((function(e){n.push(function(e){return new Date(e).toLocaleDateString("en-gb",{year:"numeric",month:"long",day:"numeric"})}(e)),a.push(e)}));var c=new RegExp("".concat(f)),r=c.test(n);if(k(r),r){var o=e.map((function(e){var t=new Date(e.date.date).toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"});if(c.test(f))return Object(u.a)({},t,e)})),s=[];o.map((function(e){c.test(Object.keys(e))&&s.push(e)}));var l=s.reduce((function(e,t){var n=Object.keys(t)[0];return e[n]?e[n]=[].concat(Object(d.a)(e[n]),[t[n]]):e[n]=[t[n]],e}),{});w(l,"currentPainEntries")}};return Object(a.useEffect)((function(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(e,"/pain-entries.json")).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(e){var t=[];for(var n in e){var a=Object(l.a)({},e[n]);t.push(a)}Q(!0),o(t),V(!1)})).catch((function(e){console.error(e),Q(!1),V(!1)}))}),[]),Object(a.useEffect)((function(){A?P(!1):Y&&X(r)}),[r,f]),_?Object(O.jsx)(D.a,{}):Y?Object(O.jsxs)(b.a,{maxWidth:"lg",children:[Object(O.jsxs)(y.a,{container:!0,children:[Object(O.jsx)(x,{newStyle:{marginTop:"4rem"},children:Object(O.jsx)(y.a,{item:!0,xs:12,children:Object(O.jsx)(p.a,{align:"center",variant:"h4",children:"Pain records"})})}),Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:n.swapBar,children:[Object(O.jsx)(m.a,{size:"large",variant:"contained",color:"primary",startIcon:Object(O.jsx)(M.a,{}),onClick:Z,children:"Back"}),Object(O.jsx)(p.a,{variant:"h4",children:f}),Object(O.jsx)(m.a,{size:"large",variant:"contained",color:"primary",endIcon:Object(O.jsx)(B.a,{}),onClick:K,children:"Next"})]})]}),Object(O.jsx)(y.a,{children:Object(O.jsxs)(x,{newStyle:{textAlign:"center",padding:"2.5rem 0"},children:[C&&function(e){var t=[];for(var n in e)t.push(Object(O.jsx)(E,{currentDay:n,entries:e[n]}));return t}(S),!C&&Object(O.jsx)(p.a,{variant:"h5",children:"No pain was recorded this month"})]})})]}):Y?void 0:Object(O.jsxs)(b.a,{maxWidth:"lg",children:[Object(O.jsxs)(y.a,{container:!0,children:[Object(O.jsx)(x,{newStyle:{marginTop:"4rem"},children:Object(O.jsx)(y.a,{item:!0,xs:12,children:Object(O.jsx)(p.a,{align:"center",variant:"h4",children:"Pain records"})})}),Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:n.swapBar,children:[Object(O.jsx)(m.a,{size:"large",variant:"contained",color:"primary",startIcon:Object(O.jsx)(M.a,{}),onClick:Z,children:"Back"}),Object(O.jsx)(p.a,{variant:"h4",children:f}),Object(O.jsx)(m.a,{size:"large",variant:"contained",color:"primary",endIcon:Object(O.jsx)(B.a,{}),onClick:K,children:"Next"})]})]}),Object(O.jsx)(y.a,{children:Object(O.jsx)(x,{newStyle:{textAlign:"center",padding:"2.5rem 0"},children:Object(O.jsx)(p.a,{variant:"h5",children:"No pain was recorded this month"})})})]})},G=function(){return Object(O.jsx)(W,{})},_=n(255),V=n(469),J=(n(288),Object(h.a)((function(e){return{outerGrid:{padding:e.spacing(5)},timeGrid:{marginTop:e.spacing(4)},textField:{marginLeft:e.spacing(15),width:300},calendar:{height:"320px",width:"550px",boxShadow:"0 6px 16px rgba(0, 0, 0, 0.2)"}}}))),H=function(e){var t=(new Date).toLocaleTimeString().substr(0,5);void 0===e.currentDateTime.time&&(e.currentDateTime.time=t);var n=Object(a.useState)(e.currentDateTime.date||new Date),i=Object(j.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)("".concat(e.currentDateTime.time)||"".concat(t)),s=Object(j.a)(o,2),d=s[0],u=s[1],h=Object(a.useState)({date:c,time:d}),b=Object(j.a)(h,2),p=b[0],m=b[1],f=J();return Object(a.useEffect)((function(){e.getDateTime(p)}),[e,p]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(y.a,{className:f.outerGrid,children:[Object(O.jsx)(y.a,{children:Object(O.jsx)(_.a,{utcOffset:0,className:f.calendar,onChange:function(e){var t=new Date(e.getTime()-6e4*e.getTimezoneOffset());r(t),m((function(e){return Object(l.a)(Object(l.a)({},e),{},{date:t})}))},value:e.currentDateTime.date,minDate:new Date("1 Jan 2019")})}),Object(O.jsx)(y.a,{className:f.timeGrid,children:Object(O.jsx)(V.a,{id:"time",label:"Time of the pain",type:"time",defaultValue:"".concat(e.currentDateTime.time)||"".concat(t),className:f.textField,onChange:function(e){u(e.target.value),m((function(t){return Object(l.a)(Object(l.a)({},t),{},{time:e.target.value})}))},InputLabelProps:{shrink:!0},inputProps:{step:300}})})]})})},Y=i.a.memo(H),Q=n(493),K="Nagging, annoying, but doesn't interfere with most daily living activities. Patient able to adapt to pain psychologically and with medication or devices such as cushions.",Z="Interferes significantly with daily living activities. Requires lifestyle changes but patient remains independent. Patient unable to adapt pain.",X="Disabling; Unable to perform daily living activities.\n Unable to engage in normal activities Patient is disable and unable to function independently",$=[{value:0,label:0,painIntensity:"Pain Free",description:"Feeling perfectly normal."},{value:1,label:1,painIntensity:"Very Mid",description:K},{value:2,label:2,painIntensity:"Discomforting",description:K},{value:3,label:3,painIntensity:"Tolerable",description:K},{value:4,label:4,painIntensity:"Distressing",description:Z},{value:5,label:5,painIntensity:"Very Distressing",description:Z},{value:6,label:6,painIntensity:"Intense",description:Z},{value:7,label:7,painIntensity:"Very Intense",description:X},{value:8,label:8,painIntensity:"Utterly Horrible",description:X},{value:9,label:9,painIntensity:"Excruciating Unbearable",description:X},{value:10,label:10,painIntensity:"Unimaginable Unspeakable",description:X}],ee=[{question:"What was the day and time of your pain episode?",title:"Date and Time"},{question:"Where does it hurt?",title:"Pain Location"},{question:"How painful was the pain episode?",title:"Pain Scale"},{question:"What medicine did you take to ease the pain?",title:"Medication"},{question:"Did you try any treatment-method to ease the pain?",title:"Treatments"},{question:"Is there anything else you would like to add?",title:"Extra Comments"}],te={value:0,painIntensity:"Pain Free"},ne=Object(h.a)((function(e){return{outerGrid:{padding:e.spacing(5)},titleDescription:{marginBottom:e.spacing(3)},innerGrid:{marginBottom:e.spacing(1)},painDescription:{marginTop:e.spacing(2)}}})),ae=function(e){var t=ne(),n=Object(a.useState)($[0].painIntensity),i=Object(j.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)($[0].description),s=Object(j.a)(o,2),l=s[0],d=s[1];return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.outerGrid,children:[Object(O.jsxs)(y.a,{className:t.titleDescription,children:[Object(O.jsx)(y.a,{className:t.innerGrid,children:Object(O.jsx)(p.a,{variant:"h5",children:"Indicate your current pain level"})}),Object(O.jsx)(y.a,{children:Object(O.jsx)(p.a,{variant:"subtitle1",children:"0 being no pain at all 10 being the worst pain imaginable"})})]}),Object(O.jsx)(Q.a,{defaultValue:0,getAriaValueText:function(t){te.value!==t&&(te.value=t,te.painIntensity=$[t].painIntensity,r($[t].painIntensity),d($[t].description),e.getPainScaleValue(te.value))},"aria-labelledby":"pain-scale",valueLabelDisplay:"auto",step:1,min:0,max:10,marks:$}),Object(O.jsx)(p.a,{variant:"h4",align:"center",className:t.painDescription,children:c}),Object(O.jsx)(p.a,{variant:"body1",className:t.painDescription,children:l})]})},ie=i.a.memo(ae),ce=n(429),re=n(470),oe=n(471),se=n(489),le=Object(h.a)((function(e){return{addButton:{marginTop:e.spacing(2)}}})),de=[],ue=function(e){var t=le(),n=Object(a.useCallback)((function(t){-1===de.indexOf(t.target.name)?de.push(t.target.name):de.splice(de.indexOf(t.target.name),1),e.getPainLocation(de)}),[e]);return Object(O.jsxs)(ce.a,{component:"fieldset",children:[Object(O.jsx)(re.a,{"aria-label":"location",name:"location1",children:e.listPainLocations.map((function(e){return e.selected?Object(O.jsx)(oe.a,{label:e.locationName,control:Object(O.jsx)(se.a,{onChange:n,name:e.locationName})},e.fireBaseId):null}))}),Object(O.jsx)(m.a,{variant:"contained",onClick:e.toLocationMenu,size:"large",className:t.addButton,color:"primary",children:"EDIT LOCATIONS"})]})},je=n(262),he=n(57),be=n.n(he),pe=n(103),me=n.n(pe),fe=n(431),ge=n(472),Oe=Object(h.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},addBackButton:{marginTop:e.spacing(1)},switchText:{textAlign:"left"}}})),xe=function(e){var t=Oe(),n=function(t){e.listPainLocations.forEach((function(n){n.locationName===t.target.name&&(n.selected=!n.selected,e.getSelectedLocation(n))}))};return Object(O.jsxs)(ce.a,{component:"fieldset",children:[Object(O.jsx)(fe.a,{component:"legend",children:"Location Menu"}),Object(O.jsx)(re.a,{"aria-label":"location",name:"location1",children:e.listPainLocations.map((function(a){return Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(O.jsx)(y.a,{xs:8,className:t.switchText,children:Object(O.jsx)(oe.a,{label:a.locationName,control:Object(O.jsx)(ge.a,{p:.5,onChange:n,name:a.locationName,checked:a.selected})})}),Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(){return t=a,void e.swaptoLocationEdit(t);var t},children:Object(O.jsx)(me.a,{fontSize:"medium",color:"primary"})})}),Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(){return t=a,void e.getLocationToDelete(t);var t},children:Object(O.jsx)(be.a,{fontSize:"medium",color:"secondary"})})})]})}))}),Object(O.jsxs)(y.a,{container:!0,direction:"column",children:[Object(O.jsx)(m.a,{size:"large",variant:"contained",onClick:function(){e.swapToAddNewLocation()},color:"primary",className:t.addBackButton,children:"Add New"}),Object(O.jsx)(m.a,{variant:"contained",onClick:function(){return e.toLocationList()},className:t.addBackButton,children:"Back"})]})]})},ve=Object(h.a)((function(e){return{innerGrid:{maxWidth:"300px"},addBack:{marginTop:e.spacing(2)}}})),ye=function(e){var t=ve(),n=Object(a.useRef)();return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.innerGrid,children:[Object(O.jsx)(V.a,{inputRef:n,id:"editLocation",type:"text","aria-describedby":"my-helper-text",autoFocus:!0,defaultValue:e.painLocationToEdit.locationName,variant:"filled"}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.painLocationToEdit.locationName=n.current.value,e.editLocationName(e.painLocationToEdit),e.toLocationMenu()},className:t.addBack,children:"Apply"}),Object(O.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){return e.toLocationMenu()},className:t.addBack,children:"Cancel"})]})},Te=Object(h.a)((function(e){return{innerGrid:{maxWidth:"300px"},addBack:{marginTop:e.spacing(2)}}})),Se=function(e){var t=Te(),n=Object(a.useRef)();return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.innerGrid,children:[Object(O.jsx)(V.a,{inputRef:n,id:"editLocation",type:"text","aria-describedby":"my-helper-text",label:"Add New Location",autoFocus:!0,variant:"filled"}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(t){var a={locationName:n.current.value,selected:!1};e.addNewLocation(a),e.toLocationMenu()},className:t.addBack,children:"Apply"}),Object(O.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){return e.toLocationMenu()},className:t.addBack,children:"Cancel"})]})},we=Object(h.a)((function(e){return{outerGrid:{padding:e.spacing(5)}}}));var Ne=function(e){var t=we();return Object(O.jsx)(y.a,{className:t.outerGrid,container:!0,direction:"column",alignItems:"center",children:e.children})},Ie=function(e){var t=Object(a.useContext)(F),n=Object(a.useState)({locationList:!0,locationMenu:!1,editLocation:!1,addLocation:!1,deleteLocation:!1}),i=Object(j.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)(),s=Object(j.a)(o,2),d=s[0],h=s[1],b=Object(a.useState)([]),p=Object(j.a)(b,2),m=p[0],f=p[1],g=Object(a.useState)(0),x=Object(j.a)(g,2),v=x[0],T=x[1],S=function(){r({locationList:!1,locationMenu:!0,editLocation:!1,addLocation:!1,deleteLocation:!1})};var w=function(){console.log("PainUserId",t.userUID),fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-locations.json")).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[];for(var n in console.log(e),e){var a=Object(l.a)({fireBaseId:n},e[n]);t.push(a)}f(t)}))};return Object(a.useEffect)((function(){w()}),[]),Object(O.jsxs)(Ne,{children:[c.locationList&&Object(O.jsx)(ue,{listPainLocations:m,getPainLocation:e.getPainLocation,toLocationMenu:S}),c.locationMenu&&Object(O.jsx)(y.a,{children:Object(O.jsx)(xe,{toLocationList:function(){r((function(e){return Object(l.a)(Object(l.a)({},e),{},{locationList:!0,locationMenu:!1})}))},listPainLocations:m,getSelectedLocation:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-locations/").concat(e.fireBaseId,".json"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),T(v+1)},swaptoLocationEdit:function(e){h(e),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{locationMenu:!1,editLocation:!0})}))},swapToAddNewLocation:function(e){r((function(e){return Object(l.a)(Object(l.a)({},e),{},{locationMenu:!1,addLocation:!0})}))},getLocationToDelete:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-locations/").concat(e.fireBaseId,".json"),{method:"DELETE"}).then((function(e){w()}))}})}),c.editLocation&&Object(O.jsx)(ye,{toLocationMenu:S,editLocationName:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-locations/").concat(e.fireBaseId,".json"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},painLocationToEdit:d}),c.addLocation&&Object(O.jsx)(Se,Object(u.a)({toLocationMenu:S,addNewLocation:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-locations.json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){w()}))}},"toLocationMenu",S))]})},Ce=n(430),ke=n(434),Ee=n(432),De=[],Ue=Object(h.a)((function(e){return{formControl:{paddingLeft:20,maxWidth:300},formControlTitle:{paddingLeft:20},dose:{maxWidth:80},addButton:{marginTop:e.spacing(2)}}})),Me=function(e){var t=Ue(),n=function(t){var n=De.findIndex((function(e){return e.medicationName===t.target.name}));-1===n?(De.push({medicationName:t.target.name,dose:" - ",effect:" - "}),t.target.parentElement.parentElement.parentElement.nextSibling.setAttribute("style","display: inline;")):(De.splice(n,1),t.target.parentElement.parentElement.parentElement.nextSibling.setAttribute("style","display: none;")),e.getMedication(De)},a=function(t){for(var n=0;n<De.length;n++)De[n].medicationName===t.target.parentElement.parentElement.parentElement.previousSibling.innerText&&(De[n].effect=t.target.value);e.getMedication(De)},i=function(t){for(var n=0;n<De.length;n++)De[n].medicationName===t.target.parentElement.parentElement.parentElement.previousSibling.innerText&&(De[n].dose=t.target.value);e.getMedication(De)};return Object(O.jsxs)(ce.a,{component:"fieldset",children:[Object(O.jsx)(fe.a,{component:"legend",children:"Medication"}),Object(O.jsx)(re.a,{"aria-label":"medication",name:"medication1",children:e.listMedications.map((function(e){return e.selected?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(oe.a,{label:e.medicationName,control:Object(O.jsx)(se.a,{onChange:n,name:e.medicationName})},e.fireBaseId),Object(O.jsxs)("form",{style:{display:"none"},children:[Object(O.jsx)(V.a,{label:"Dose",type:"number",className:t.dose,onChange:i}),Object(O.jsxs)(ce.a,{className:t.formControl,children:[Object(O.jsx)(Ce.a,{className:t.formControlTitle,children:"Select an option"}),Object(O.jsxs)(ke.a,{native:!0,defaultValue:"",onChange:a,children:[Object(O.jsx)("option",{"aria-label":"None",value:""}),Object(O.jsx)("option",{value:"Better",children:"Better"}),Object(O.jsx)("option",{value:"No Change",children:"No Change"}),Object(O.jsx)("option",{value:"Worse",children:"Worse"})]}),Object(O.jsx)(Ee.a,{children:"How do you feel after taking the medication"})]})]})]}):null}))}),Object(O.jsx)(m.a,{color:"primary",variant:"contained",onClick:e.toMedicationMenu,size:"large",className:t.addButton,children:"EDIT MEDICATIONS"})]})},Le=Object(h.a)((function(e){return{margin:{margin:e.spacing(1)},addBack:{marginTop:e.spacing(2)}}})),Be=function(e){var t=Le(),n=function(t){e.listMedications.forEach((function(n){n.medicationName===t.target.name&&(n.selected=!n.selected,e.getSelectedMedication(n))}))};return Object(O.jsxs)(ce.a,{component:"fieldset",children:[Object(O.jsx)(fe.a,{component:"legend",children:"Medication Menu"}),Object(O.jsx)(re.a,{"aria-label":"medication",name:"medication1",children:e.listMedications.map((function(a){return Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(O.jsx)(y.a,{xs:8,children:Object(O.jsx)(oe.a,{label:a.medicationName,control:Object(O.jsx)(ge.a,{p:.5,onChange:n,name:a.medicationName,checked:a.selected})})}),Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(){return t=a,void e.swaptoMedicationEdit(t);var t},children:Object(O.jsx)(me.a,{fontSize:"medium",color:"primary"})})}),Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(){return t=a,void e.getMedicationToDelete(t);var t},children:Object(O.jsx)(be.a,{fontSize:"medium",color:"secondary"})})})]})}))}),Object(O.jsxs)(y.a,{container:!0,direction:"column",children:[Object(O.jsx)(m.a,{size:"large",variant:"contained",onClick:function(){e.swapToAddNewMedication()},color:"primary",className:t.addBack,children:"Add New"}),Object(O.jsx)(m.a,{size:"large",variant:"contained",onClick:function(){return e.toMedicationList()},className:t.addBack,children:"Back"})]})]})},Ae=Object(h.a)((function(e){return{innerGrid:{maxWidth:"300px"},addBack:{marginTop:e.spacing(2)}}})),Pe=function(e){var t=Ae(),n=Object(a.useRef)();return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.innerGrid,children:[Object(O.jsx)(V.a,{inputRef:n,id:"editLocation",type:"text","aria-describedby":"my-helper-text",autoFocus:!0,defaultValue:e.medicationToEdit.medicationName,variant:"filled"}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.medicationToEdit.medicationName=n.current.value,console.log("sup",e.medicationToEdit),e.editMedicationName(e.medicationToEdit),e.toMedicationMenu()},className:t.addBack,children:"Apply"}),Object(O.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){return e.toMedicationMenu()},className:t.addBack,children:"Cancel"})]})},Fe=Object(h.a)((function(e){return{formControl:{paddingLeft:20,minWidth:90},formControlTitle:{paddingLeft:20},dose:{maxWidth:300},selectEmpty:{marginTop:e.spacing(2)},innerGrid:{maxWidth:"350px"},addBack:{marginTop:e.spacing(2)}}})),ze=function(e){var t=Fe(),n=Object(a.useRef)(),i=Object(a.useRef)(),c=Object(a.useRef)();return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.innerGrid,children:[Object(O.jsx)(V.a,{inputRef:c,id:"editLocation",type:"text","aria-describedby":"my-helper-text",label:"Add New Medication",autoFocus:!0,variant:"filled"}),Object(O.jsxs)("form",{children:[Object(O.jsx)(V.a,{id:"strength",label:"Strength",inputRef:n,className:t.dose}),Object(O.jsxs)(ce.a,{className:t.formControl,children:[Object(O.jsx)(Ce.a,{htmlFor:"grouped-native-select",className:t.formControlTitle,children:"Select"}),Object(O.jsxs)(ke.a,{native:!0,inputRef:i,defaultValue:"",id:"measurement",children:[Object(O.jsx)("option",{"aria-label":"None",value:""}),Object(O.jsx)("option",{value:"mg",children:"mg"}),Object(O.jsx)("option",{value:"%",children:"%"}),Object(O.jsx)("option",{value:"\xb5g",children:"\xb5g"}),Object(O.jsx)("option",{value:"g",children:"g"})]})]})]}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(){var t={medicationName:"".concat(c.current.value," ").concat(n.current.value).concat(i.current.value),selected:!1};e.addNewMedication(t),e.toMedicationMenu()},className:t.addBack,children:"Apply"}),Object(O.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){return e.toMedicationMenu()},className:t.addBack,children:"Cancel"})]})},Re=function(e){var t=Object(a.useContext)(F),n=Object(a.useState)({medicationList:!0,medicationMenu:!1,editMedication:!1,addMedication:!1,deleteMedication:!1}),i=Object(j.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)(!0),s=Object(j.a)(o,2),d=s[0],h=s[1],b=Object(a.useState)(),p=Object(j.a)(b,2),m=p[0],f=p[1],g=Object(a.useState)([]),x=Object(j.a)(g,2),v=x[0],y=x[1],T=Object(a.useState)(0),S=Object(j.a)(T,2),w=S[0],N=S[1],I=function(){r({medicationList:!1,medicationMenu:!0,editMedication:!1,addMedication:!1,deleteMedication:!1})};var C=function(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/medications.json")).then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e){var a=Object(l.a)({fireBaseId:n},e[n]);t.push(a)}y(t),h(!1)}))};return Object(a.useEffect)((function(){C()}),[]),d?Object(O.jsx)(D.a,{}):Object(O.jsxs)(Ne,{children:[c.medicationList&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Me,{listMedications:v,getMedication:e.getMedication,toMedicationMenu:I})}),c.medicationMenu&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Be,{listMedications:v,toMedicationList:function(){r((function(e){return Object(l.a)(Object(l.a)({},e),{},{medicationList:!0,medicationMenu:!1})}))},getSelectedMedication:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/medications/").concat(e.fireBaseId,".json"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),N(w+1)},swaptoMedicationEdit:function(e){f(e),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{medicationMenu:!1,editMedication:!0})}))},swapToAddNewMedication:function(e){r((function(e){return Object(l.a)(Object(l.a)({},e),{},{medicationMenu:!1,addMedication:!0})}))},getMedicationToDelete:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/medications/").concat(e.fireBaseId,".json"),{method:"DELETE"}).then((function(e){C()}))}})}),c.editMedication&&Object(O.jsx)(Pe,Object(u.a)({toMedicationMenu:I,editMedicationName:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/medications/").concat(e.fireBaseId,".json"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},medicationToEdit:m},"toMedicationMenu",I)),c.addMedication&&Object(O.jsx)(ze,Object(u.a)({toMedicationMenu:I,addNewMedication:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/medications.json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){C()}))}},"toMedicationMenu",I))]})},qe=[],We=Object(h.a)((function(e){return{formControl:{paddingLeft:20,maxWidth:300},formControlTitle:{paddingLeft:20},dose:{maxWidth:80},addButton:{marginTop:e.spacing(2)}}})),Ge=function(e){var t=We(),n=function(t){var n=qe.findIndex((function(e){return e.treatmentName===t.target.name}));-1===n?(qe.push({treatmentName:t.target.name,effect:""}),t.target.parentElement.parentElement.parentElement.nextSibling.setAttribute("style","display: inline;")):(qe.splice(n,1),t.target.parentElement.parentElement.parentElement.nextSibling.setAttribute("style","display: none;")),e.getTreatment(qe)},a=function(t){for(var n=0;n<qe.length;n++)qe[n].treatmentName===t.target.parentElement.parentElement.parentElement.previousSibling.innerText&&(qe[n].effect=t.target.value);e.getTreatment(qe)};return Object(O.jsxs)(ce.a,{component:"fieldset",children:[Object(O.jsx)(fe.a,{component:"legend",children:"Treatment"}),Object(O.jsx)(re.a,{"aria-label":"treatment",name:"treatment1",children:e.listTreatments.map((function(e){return e.selected?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(oe.a,{label:e.treatmentName,control:Object(O.jsx)(se.a,{onChange:n,name:e.treatmentName})},e.fireBaseId),Object(O.jsx)("form",{style:{display:"none"},children:Object(O.jsxs)(ce.a,{className:t.formControl,children:[Object(O.jsx)(Ce.a,{className:t.formControlTitle,children:"Select an option"}),Object(O.jsxs)(ke.a,{native:!0,defaultValue:"",onChange:a,children:[Object(O.jsx)("option",{"aria-label":"None",value:""}),Object(O.jsx)("option",{value:"Better",children:"Better"}),Object(O.jsx)("option",{value:"No Change",children:"No Change"}),Object(O.jsx)("option",{value:"Worse",children:"Worse"})]}),Object(O.jsx)(Ee.a,{children:"How do you feel after the treatment"})]})})]}):null}))}),Object(O.jsx)(m.a,{color:"primary",size:"large",variant:"contained",onClick:e.toTreatmentMenu,className:t.addButton,children:"EDIT TREATMENTS"})]})},_e=Object(h.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},addBack:{marginTop:e.spacing(1)}}})),Ve=function(e){var t=_e(),n=function(t){e.listTreatments.forEach((function(n){n.treatmentName===t.target.name&&(n.selected=!n.selected,e.getSelectedTreatment(n))}))};return Object(O.jsxs)(ce.a,{component:"fieldset",children:[Object(O.jsx)(fe.a,{component:"legend",children:"Treatment Menu"}),Object(O.jsx)(re.a,{"aria-label":"treatment",name:"treatment1",children:e.listTreatments.map((function(a){return Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(O.jsx)(y.a,{xs:8,children:Object(O.jsx)(oe.a,{label:a.treatmentName,control:Object(O.jsx)(ge.a,{p:.5,onChange:n,name:a.treatmentName,checked:a.selected})})}),Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(){return t=a,void e.swaptoTreatmentEdit(t);var t},children:Object(O.jsx)(me.a,{fontSize:"medium",color:"primary"})})}),Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(){return t=a,void e.getTreatmentToDelete(t);var t},children:Object(O.jsx)(be.a,{fontSize:"medium",color:"secondary"})})})]})}))}),Object(O.jsxs)(y.a,{container:!0,direction:"column",children:[Object(O.jsx)(m.a,{size:"large",variant:"contained",onClick:function(){e.swapToAddNewTreatment()},color:"primary",className:t.addBack,children:"Add New"}),Object(O.jsx)(m.a,{variant:"contained",onClick:e.toTreatmentList,className:t.addBack,children:"Back"})]})]})},Je=Object(h.a)((function(e){return{innerGrid:{maxWidth:"300px"},addBack:{marginTop:e.spacing(2)}}})),He=function(e){var t=Je(),n=Object(a.useRef)();return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.innerGrid,children:[Object(O.jsx)(V.a,{inputRef:n,id:"editLocation",type:"text","aria-describedby":"my-helper-text",autoFocus:!0,defaultValue:e.treatmentToEdit.treatmentName,variant:"filled"}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(){e.treatmentToEdit.treatmentName=n.current.value,console.log("undefine?",e.treatmentToEdit),e.editTreatmentName(e.treatmentToEdit),e.toTreatmentMenu()},className:t.addBack,children:"Apply"}),Object(O.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){return e.toTreatmentMenu()},className:t.addBack,children:"Cancel"})]})},Ye=Object(h.a)((function(e){return{innerGrid:{maxWidth:"300px"},addBack:{marginTop:e.spacing(2)}}})),Qe=function(e){var t=Ye(),n=Object(a.useRef)();return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.innerGrid,children:[Object(O.jsx)(V.a,{inputRef:n,id:"editLocation",type:"text","aria-describedby":"my-helper-text",label:"Add New Location",autoFocus:!0,variant:"filled"}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(){var t={treatmentName:n.current.value,selected:!1};e.addNewTreatment(t),e.toTreatmentMenu()},className:t.addBack,children:"Apply"}),Object(O.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){return e.toTreatmentMenu()},className:t.addBack,children:"Cancel"})]})},Ke=function(e){var t=Object(a.useContext)(F),n=Object(a.useState)({treatmentList:!0,treatmentMenu:!1,editTreatment:!1,addTreatment:!1,deleteTreatment:!1}),i=Object(j.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)(),s=Object(j.a)(o,2),d=s[0],h=s[1],b=Object(a.useState)([]),p=Object(j.a)(b,2),m=p[0],f=p[1],g=Object(a.useState)(0),x=Object(j.a)(g,2),v=x[0],y=x[1],T=function(){r({treatmentList:!1,treatmentMenu:!0,editTreatment:!1,addTreatment:!1,deleteTreatment:!1})};var S=function(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/treatments.json")).then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e){var a=Object(l.a)({fireBaseId:n},e[n]);t.push(a)}f(t)}))};return Object(a.useEffect)((function(){S()}),[]),Object(O.jsxs)(O.Fragment,{children:[c.treatmentList&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Ge,{listTreatments:m,getTreatment:e.getTreatment,submitMedication:e.submitMedication,toTreatmentMenu:T})}),c.treatmentMenu&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(Ve,{listTreatments:m,getSelectedTreatment:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/treatments/").concat(e.fireBaseId,".json"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}),y(v+1)},toTreatmentList:function(){r((function(e){return Object(l.a)(Object(l.a)({},e),{},{treatmentList:!0,treatmentMenu:!1})}))},swaptoTreatmentEdit:function(e){h(e),r((function(e){return Object(l.a)(Object(l.a)({},e),{},{treatmentMenu:!1,editTreatment:!0})}))},swapToAddNewTreatment:function(e){r((function(e){return Object(l.a)(Object(l.a)({},e),{},{treatmentMenu:!1,addTreatment:!0})}))},getTreatmentToDelete:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/treatments/").concat(e.fireBaseId,".json"),{method:"DELETE"}).then((function(e){S()}))}})}),c.editTreatment&&Object(O.jsx)(He,{toTreatmentMenu:T,editTreatmentName:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/treatments/").concat(e.fireBaseId,".json"),{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})},treatmentToEdit:d}),c.addTreatment&&Object(O.jsx)(Qe,Object(u.a)({toTreatmentMenu:T,addNewTreatment:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/treatments.json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){S()}))}},"toTreatmentMenu",T))]})},Ze=Object(h.a)((function(e){return{textBox:{minWidth:400},submitButton:{marginTop:e.spacing(2)},extraComments:{padding:e.spacing(4),paddingTop:e.spacing(6)}}})),Xe=function(e){var t=Ze(),n=Object(a.useRef)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(y.a,{container:!0,direction:"column",alignItems:"center",className:t.extraComments,children:[Object(O.jsx)(V.a,{className:t.textBox,id:"filled-multiline-static",label:"Extra Comments",autoFocus:!0,variant:"filled",multiline:!0,inputRef:n,rows:4}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(){var t=n.current.value;e.getComment(t)},className:t.submitButton,children:"Submit"})]})})},$e=Object(h.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",justifyContent:"center"},swapBar:{marginLeft:e.spacing(4.2),marginRight:e.spacing(4.2)}}})),et=function(){var e=$e(),t=Object(a.useContext)(F),n=Object(a.useState)({date:{},painLocation:[],painScale:0,medicine:[],treatment:[],comments:""}),i=Object(j.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)(0),s=Object(j.a)(o,2),d=s[0],u=s[1],h=Object(a.useCallback)((function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{date:e})}))}),[]);return Object(O.jsx)(b.a,{maxWidth:"lg",children:Object(O.jsxs)(y.a,{container:!0,children:[Object(O.jsx)(x,{newStyle:{marginTop:"4rem"},children:Object(O.jsx)(y.a,{item:!0,xs:12,children:Object(O.jsx)(p.a,{align:"center",display:"block",variant:"h4",children:ee[d].question})})}),Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",className:e.swapBar,children:[Object(O.jsx)(m.a,{size:"large",variant:"contained",color:"primary",disabled:0===d,startIcon:Object(O.jsx)(M.a,{}),onClick:function(){return u((function(e){return e-1}))},children:"Back"}),Object(O.jsx)(p.a,{variant:"h4",children:ee[d].title}),Object(O.jsx)(m.a,{size:"large",variant:"contained",color:"primary",disabled:5===d,endIcon:Object(O.jsx)(B.a,{}),onClick:function(){return u((function(e){return e+1}))},children:"Next"})]}),Object(O.jsx)(x,{children:Object(O.jsxs)(y.a,{item:!0,xs:12,className:e.container,children:[0===d&&Object(O.jsx)(Y,{getDateTime:h,currentDateTime:c.date}),1===d&&Object(O.jsx)(Ie,{getPainLocation:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{painLocation:e})}))}}),2===d&&Object(O.jsx)(ie,{getPainScaleValue:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{painScale:e})}))}}),3===d&&Object(O.jsx)(Re,{getMedication:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{medicine:e})}))}}),4===d&&Object(O.jsx)(Ke,{getTreatment:function(e){r((function(t){return Object(l.a)(Object(l.a)({},t),{},{treatment:e})}))}}),5===d&&Object(O.jsx)(Xe,{getComment:function(e){c.comments=e,function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-entries.json"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){r({date:{},painLocation:[],painScale:0,medicine:[],treatment:[],comments:""})})),u(0),window.location.reload(!1)}(c)}})]})})]})})},tt=n(490),nt=n(473),at=n(474),it=n(475),ct=n(234),rt=n.n(ct),ot=Object(h.a)((function(e){return{root:{width:"100%"},heading:{fontWeight:e.typography.fontWeightBold},accordion:{width:"100%",display:"block"},accordionText:{marginLeft:e.spacing(1),marginBottom:e.spacing(4)},mainAccordion:{backgroundColor:function(e){return e.accordionColor}}}})),st=function(e){var t,n=ot({accordionColor:e.accordionColor}),a=i.a.useState(!1),c=Object(j.a)(a,2),r=c[0],o=c[1];return Object(O.jsxs)(tt.a,{className:n.mainAccordion,expanded:r===e.panel,onChange:(t=e.panel,function(e,n){o(!!n&&t)}),children:[Object(O.jsx)(nt.a,{expandIcon:Object(O.jsx)(rt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(O.jsx)(at.a,{color:"secondary",badgeContent:4,variant:"dot",invisible:!e.showBadge,children:Object(O.jsx)(p.a,{variant:"h5",className:n.heading,children:e.accordionTitle})})}),Object(O.jsx)(it.a,{children:Object(O.jsxs)(y.a,{container:!0,direction:"column",children:[Object(O.jsx)(p.a,{variant:"body1",className:n.accordionText,children:e.bodyText}),Object(O.jsx)("main",{children:e.children})]})})]})},lt=Object(h.a)((function(e){return{textMargin:{marginLeft:e.spacing(4),marginRight:e.spacing(4),marginBottom:e.spacing(4)},title:{fontWeight:e.typography.fontWeightMedium},subTitle1:{color:"#1c4966"},subTitle2:{color:"#296d98",fontWeight:e.typography.fontWeightRegular}}})),dt=function(e){var t=lt();return Object(O.jsx)(O.Fragment,{children:e.userGuideText.map((function(e){return Object(O.jsxs)(y.a,{className:t.textMargin,children:[Object(O.jsx)(p.a,{variant:"h5",className:t.title,children:e.title}),Object(O.jsx)(p.a,{variant:"h5",className:t.subTitle1,children:e.subTitle1}),Object(O.jsx)(p.a,{variant:"h6",className:t.subTitle2,children:e.subTitle2}),Object(O.jsx)(p.a,{variant:"body1",children:e.description})]})}))})},ut={userGuideDesc:"This user guide includes an explanation for each of the screens found on the bottom menu. Each explanation includes screen functionalityand step by step instructions on how to perform them. Click the arrows to expand each of the explanations for each screen an d scroll down to read thefull text.",entries:[{description:'In this screen the user can record current or past pain episodes. To start a new pain entry select the date a click "Next'},{title:"Date and Time",description:"In this screen, the user can select the date on which the pain episode occurred. On the calendar component, at the top of the calendar, the user can select the month and year by pressing the directional arrows"},{title:"Pain Location",description:"Initially, this screen will be empty. The user will have to click \"ADD LOCATIONS\" and then click on \"ADD NEW\" and type the location in the body where the pain is felt. \nThe User can choose to 'edit' or 'delete' an added location by clicking on the 'pen' or 'bin' icon. \n The user can enable or disable a body location so thatIt appears in the main screen"},{title:"Pain Scale",description:'The user can use the vertical scale to select the intensity of the pain between 0-10. 0 stands for "no pain", and 10 stands for the "worst pain imaginable".Every time the user picks a different level of intensity, a description corresponding to that intensity will be shown. Descriptions are meant to helpthe user choose the accurate intensity of the pain.'},{title:"Medication",description:"Initially, this screen will be empty. The user will have to click \"ADD MEDICATION\" and then click on \"ADD NEW\" and type the medication taken to ease the pain. \nThe user can choose to 'edit' or 'delete' an added medication by clicking on the 'pen' or 'bin' icon. \n The user can enable or disable a medication so thatIt appears in the main screen"},{title:"Treatments",description:"Initially, this screen will be empty. The user will have to click \"ADD TREATMENTS\" and then click on \"ADD NEW\" and type the treatment taken to ease the pain. \nThe user can choose to 'edit' or 'delete' an added treatment by clicking on the 'pen' or 'bin' icon. \n The user can enable or disable a treatment so thatIt appears in the main screen"},{title:"Extra Comments",description:"The user can write additional comments about the pain episode. Once the user has finished writing, he can press the submit button at the bottom to conclude the pain entry form currently recorded."}],stats:[{description:'The user can view insightful information about the pain and how certain factors such as medicine or treatments relate to it.\nThere are seven charts that display information about the pain. Each chart has a title explaining its purpose and an informationaltooltip ("Icon") explaining how to understand it. Explanations of these charts can also be found below.'},{title:"Pain Intensity - Scale Frequency",description:"This chart shows the total amount of times a user has recorded a pain episode. The intensity level recorded during an episode has been distributedacross five different pain categories. This chart can keep a user accountable for the number of entries recorded. It also helps to have a generalunderstanding and classify their overall pain severity."},{title:"Pain Intensity - Time Periods",description:"This chart shows the average pain level and pain occurrences across four-time categories. Each category represents a range of times in a day. \nThis chart helps to understand at what time throughout the day the pain is most severe. This user can use this to find trends, e.g.(when the pain was most or less severe) by investigating the habits during those periods, enabling them to adopt better or discontinue poor habits."},{title:"Pain Location",description:"This chart shows the number of times a body location has been selected when filling a pain entry form. It also shows the most prevalent bodylocation affected by the pain. \n This chart helps the user to understand the parts of their body which are commonly affected by the pain, enabling them to choose the proper medication and treatment to mitigate the pain."},{title:"Negative Effect",description:'This chart shows the number of times a pain mitigation method was classified as "worse" when filling a pain entry form. It also shows whichmethods have the most harmful results when treating the pain. \n This chart can help the user to keep accountability of how many times a methodhas been utilized. It also helps the user to recognize which methods are not suitable for them and must be discontinued.'},{title:"Positive Effect",description:'This chart shows the number of times a pain mitigation method was classified as "Better" when filling a pain entry form. It also shows whichmethods have the most beneficial results when treating the pain. \n This chart can help the user to keep accountability of how many times a method has been utilized. It also helps the user recognize which methods have worked in the past and should not be abandoned.'},{title:"Ineffectual Factors",description:'This chart shows the number of times a pain mitigation method was classified as "No change" when filling a pain entry form. It also shows which methods have no effects when treating the pain. \n This chart can help the user to keep accountability of how many times a method hasbeen utilized. It also helps the user to recognize which methods are ineffective for them could be discontinued.'}],records:[{description:"The user can scroll down to see past logs corresponding to the current month. If the user wants to check a previous month,he can interact with the date-changer at the top of the screen, which allows him to select previous months by clicking on the arrows.Additionally, the user can press on the informational tooltip to obtain instructions on how to operate this screen."},{title:"Downloading Records",description:"The user can download logs as a CSV file by clicking on the download icon on the top-right corner."}],profile:[{description:"The user can record or access personal information. The user can also manage spectators, set reminders, customize the app and read the user guide. There are five sections in the profile screen which are discussed below."},{title:"Account Information",description:"This section manages the information in the account. The user can see account type, email, change password or choose a name associated with the account. This information is used when connecting with spectators and storing pain records in the cloud. "},{title:"Spectators",description:"This section will look differently depending on the user being a spectator or a chronic pain user. The section allows spectator and pain user to manage connections between them."},{subTitle1:'Spectators for "Chronic Pain User"',description:"The user can change permissions for spectators by pressing the circle-shape button to enable or disable the spectator's ability to see their information."},{subTitle2:"Adding a new spectator",description:'The user can add spectators by clicking on the "Add New" button and enter the email associated with the Tangible account of the spectator they wish to connect.'},{subTitle2:"Removing a spectator",description:'The user can remove a spectator in the spectator\'s section by pressing the vertical three-dot icon ("Icon") and then pressing on the option "Delete".'},{subTitle2:"What information can a spectator see?",description:'The pain user can select the information that a spectator is allowed to see. The user can exclude different factors, e.g.(medicine, negative effect chart). To choose what information a spectator can see, the user must go to the spectator\'s section and press on the vertical three-dot icon ("Icon")  on the spectator name he desires to customize; the user can press the "Sharing Options" button and choose which factors that spectator is allowed to see by checking or onchecking the boxes in that window.'},{subTitle1:'Spectators for "Spectator User"',description:"The user can select which pain users he wishes to spectate by pressing the circle-shape button to enable or disable the pain user hence stopping all notifications associated with that pain user. The spectator can also see requests sent by a pain user in order to be spectated. The spectator can also manage other pain user options discussed below. "},{subTitle2:"Accepting/Deleting Request",description:'When a pain user sends a spectator request, a tooltip showing requests will appear in the spectator section ("Icon"). To accept a request, the user can press the "accept" button or press the vertical three-dot icon ("Icon") and choose to delete the request.'},{subTitle2:"Notify the spectator when the pain user has an episode.",description:'By selecting the three-dot icon ("Icon") in an existing pain user on the spectator section, the spectator can select the notifications button and choose a threshold to be notified when the pain user has a pain episode above or below a chosen threshold.'},{title:"Customize Pain Scale",description:'In the customize scale section, the user can select a number from the pain scale and edit the description on the right. The user must press the "Apply" button for the changes to take effect.'}]},jt=Object(h.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(2)},addBackButton:{marginTop:e.spacing(1)},switchText:{textAlign:"left"}}})),ht=function(e){var t=jt();return console.log("props.userToSpectate",e.userToSpectate),Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-evenly",alignItems:"center",xs:12,children:[Object(O.jsx)(y.a,{item:!0,xs:6,className:t.switchText,children:Object(O.jsx)(p.a,{align:"right",className:t.extendedIcon,children:e.userToSpectate.email})}),e.userToSpectate.requestAccepted&&Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(t){e.deleteSpected()},children:Object(O.jsx)(be.a,{fontSize:"medium",color:"secondary"})})}),e.userToSpectate.request&&Object(O.jsxs)(y.a,{item:!0,xs:6,children:[Object(O.jsx)(m.a,{size:"small",variant:"contained",onClick:function(){e.addPainUserToBeSpectated()},color:"primary",className:t.extendedIcon,children:"Accept"}),Object(O.jsx)(m.a,{size:"small",variant:"contained",onClick:function(t){e.declineUserToBeSpected()},color:"secondary",children:"Decline"})]})]})},bt=function(e){var t=Object(a.useContext)(F),n=Object(a.useState)({spectatorMenu:!0,addSpectator:!1,deleteSpectator:!1}),i=Object(j.a)(n,2),c=(i[0],i[1],Object(a.useState)({painUserAccountId:"",painUserEmail:"",request:!1,requestAccepted:!1})),r=Object(j.a)(c,2),o=r[0],s=r[1],d=Object(a.useState)([]),u=Object(j.a)(d,2),h=(u[0],u[1],Object(a.useState)(0)),b=Object(j.a)(h,2),p=(b[0],b[1],function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/Account/.json")).then((function(e){return e.json()})).then((function(e){var n=Object.keys(e)[0];fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/Account/").concat(n,"/userToSpect.json"),{method:"PUT",body:JSON.stringify(""),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){})),t.getUserToSpectUID(""),s({painUserAccountId:"",painUserEmail:"",request:!1,requestAccepted:!1})}))});function m(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/Account/.json")).then((function(e){return e.json()})).then((function(e){var n=Object.keys(e)[0];fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/Account/").concat(n,"/userToSpect.json"),{method:"PUT",body:JSON.stringify(o.painUserAccountId),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){})),t.getUserToSpectUID(o.painUserAccountId),f()}))}var f=function(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/Account/.json")).then((function(e){return e.json()})).then((function(e){var n=Object.keys(e)[0];fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/Account/").concat(n,"/userInfoToSpect.json"),{method:"DELETE"}).then((function(e){g()}))}))},g=function(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/Account.json")).then((function(e){return e.json()})).then((function(e){var t=e[Object.keys(e)[0]];t.userInfoToSpect?s(Object(l.a)(Object(l.a)({},t.userInfoToSpect),{},{request:!0})):""!==t.userToSpect?fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userToSpect,"/Account.json")).then((function(e){return e.json()})).then((function(e){s(Object(l.a)(Object(l.a)({},e[Object.keys(e)[0]]),{},{requestAccepted:!0}))})):s({painUserAccountId:"",painUserEmail:"",request:!1,requestAccepted:!1})}))};return e.showBadge(o.request),Object(a.useEffect)((function(){g()}),[]),Object(O.jsxs)(Ne,{children:[o.request&&Object(O.jsx)(ht,{userToSpectate:o,deleteSpected:p,addPainUserToBeSpectated:m,declineUserToBeSpected:f}),o.requestAccepted&&Object(O.jsx)(ht,{userToSpectate:o,deleteSpected:p,addPainUserToBeSpectated:m,declineUserToBeSpected:f})]})},pt=Object(h.a)((function(e){return{margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},addBackButton:{marginTop:e.spacing(1)},switchText:{textAlign:"left"}}})),mt=function(e){var t=pt();return console.log("list",e.listPainSpecteds),Object(O.jsxs)(ce.a,{component:"fieldset",children:[Object(O.jsx)(fe.a,{component:"legend",children:"Spected Menu"}),Object(O.jsx)(re.a,{"aria-label":"spected",name:"spected1",children:e.listPainSpecteds.map((function(n){return Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(O.jsx)(y.a,{xs:8,className:t.switchText,children:Object(O.jsx)(p.a,{children:n.spectedName})}),Object(O.jsx)(y.a,{xs:2,children:Object(O.jsx)(je.a,{"aria-label":"delete",className:t.margin,onClick:function(){return t=n,void e.getSpectedToDelete(t);var t},children:Object(O.jsx)(be.a,{fontSize:"medium",color:"secondary"})})})]})}))}),Object(O.jsx)(y.a,{container:!0,direction:"column",children:Object(O.jsx)(m.a,{size:"large",variant:"contained",onClick:function(){e.swapToAddNewSpected()},color:"primary",className:t.addBackButton,children:"Invite Spected"})})]})},ft=Object(h.a)((function(e){return{innerGrid:{maxWidth:"300px"},addBack:{marginTop:e.spacing(2)}}})),gt=function(e){var t=ft(),n=Object(a.useRef)();return Object(O.jsxs)(y.a,{container:!0,direction:"column",className:t.innerGrid,children:[Object(O.jsx)(V.a,{inputRef:n,id:"AddSpected",type:"text","aria-describedby":"my-helper-text",label:"Spected Email",autoFocus:!0,variant:"filled"}),Object(O.jsx)(m.a,{variant:"contained",color:"primary",size:"large",onClick:function(t){var a=n.current.value;e.addNewSpected(a),e.toSpectedMenu()},className:t.addBack,children:"Apply"}),Object(O.jsx)(m.a,{variant:"contained",size:"large",onClick:function(){return e.toSpectedMenu()},className:t.addBack,children:"Cancel"})]})},Ot=function(e){var t=Object(a.useContext)(F),n=Object(a.useState)({spectedMenu:!0,addSpected:!1,deleteSpected:!1}),i=Object(j.a)(n,2),c=i[0],r=i[1],o=Object(a.useState)([]),s=Object(j.a)(o,2),d=s[0],u=s[1],h=Object(a.useState)(0),b=Object(j.a)(h,2);b[0],b[1];var p=function(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-specteds.json")).then((function(e){return e.json()})).then((function(e){var t=[];for(var n in e)t.push(e[n]);u(t)}))};return Object(a.useEffect)((function(){p()}),[]),Object(O.jsxs)(Ne,{children:[c.spectedMenu&&Object(O.jsx)(y.a,{children:Object(O.jsx)(mt,{getPainSpected:e.getPainSpected,listPainSpecteds:d,swapToAddNewSpected:function(e){r((function(e){return Object(l.a)(Object(l.a)({},e),{},{spectedMenu:!1,addSpected:!0})}))},getSpectedToDelete:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-specteds/.json")).then((function(e){return e.json()})).then((function(e){var n=e[Object.keys(e)[0]];fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(n.userID,"/Account/").concat(n.AccountID,"/userToSpect.json"),{method:"PUT",body:JSON.stringify(""),headers:{"Content-Type":"application/json"}}).then((function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-specteds.json"),{method:"DELETE"}).then((function(e){p()}))}))}))}})}),c.addSpected&&Object(O.jsx)(gt,{toSpectedMenu:function(){r({spectedMenu:!0,addSpected:!1,deleteSpected:!1})},addNewSpected:function(e){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/.json").then((function(e){return e.json()})).then((function(n){var a=function(a){var i=n[a].Account[Object.keys(n[a].Account)[0]];if(i.email===e){var c={spectedName:i.name,spectedEmail:e,userID:a,AccountID:Object.keys(n[a].Account)[0]};fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(t.userUID,"/pain-specteds.json"),{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){var i={email:t.userEmail,painUserAccountId:t.userUID};fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(a,"/Account/").concat(Object.keys(n[a].Account)[0],"/userInfoToSpect.json"),{method:"PUT",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}}).then((function(e){p()}))}))}};for(var i in n)a(i)}))}})]})},xt=function(){var e=Object(a.useContext)(F),t=Object(a.useState)(!1),n=Object(j.a)(t,2),i=n[0],c=n[1];return Object(O.jsx)(b.a,{maxWidth:"lg",children:Object(O.jsx)(x,{newStyle:{marginTop:"4rem",padding:"4rem 10rem"},children:Object(O.jsxs)(y.a,{children:[Object(O.jsx)(st,{accordionTitle:"Account Information",accordionColor:"#F5F5F5",panel:"panel1"}),Object(O.jsxs)(st,{accordionTitle:"Spectators",showBadge:i,accordionColor:"#F5F5F5",panel:"panel2",children:[e.isPainUser&&Object(O.jsx)(Ot,{}),!e.isPainUser&&Object(O.jsx)(bt,{showBadge:function(e){return c(e)}})]}),Object(O.jsxs)(st,{accordionTitle:"User Guide",accordionColor:"#F5F5F5",panel:"panel3",bodyText:ut.userGuideDesc,children:[Object(O.jsx)(st,{panel:"panelUser1",accordionTitle:"Entries Screen Guide",accordionColor:"#fff",children:Object(O.jsx)(dt,{userGuideText:ut.entries})}),Object(O.jsx)(st,{accordionTitle:"Stats Screen Guide",panel:"panelUser2",children:Object(O.jsx)(dt,{userGuideText:ut.stats})}),Object(O.jsx)(st,{accordionTitle:"Records Screen Guide",panel:"panelUser3",children:Object(O.jsx)(dt,{userGuideText:ut.records})}),Object(O.jsx)(st,{accordionTitle:"Profile Screen Guide",panel:"panelUser4",children:Object(O.jsx)(dt,{userGuideText:ut.profile})})]}),Object(O.jsx)(st,{panel:"panel4",accordionTitle:"Customize Scale",accordionColor:"#F5F5F5"})]})})})},vt=n(476),yt=n(477),Tt=n(481),St=n(250),wt=n(251),Nt=n(129),It=n(126),Ct=n(258),kt=Object(h.a)((function(e){return{graphMargin:{left:"10"},graphTitle:{paddingBottom:"2rem"}}})),Et=function(e){var t=kt(),n=function(e){return"".concat(e.toFixed(0),"%")};return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(p.a,{variant:"h4",className:t.graphTitle,children:e.statsTitle}),Object(O.jsx)(vt.a,{width:"100%",height:400,children:Object(O.jsxs)(yt.a,{margin:{left:20},data:e.frequencyData,layout:"vertical",stackOffset:"expand",children:[Object(O.jsx)(Tt.a,{strokeDasharray:"3 3"}),Object(O.jsx)(St.a,{type:"number",dataKey:"factorAverage",tickFormatter:n}),Object(O.jsx)(wt.a,{type:"category",dataKey:"name",angle:"-45"}),Object(O.jsx)(Nt.a,{cursor:{stroke:"green",strokeWidth:2},formatter:n}),Object(O.jsx)(It.a,{}),Object(O.jsx)(Ct.a,{dataKey:"factorAverage",fill:e.barColor})]})})]})},Dt=n(91),Ut=n.n(Dt),Mt=function(e){var t={none:0,minor:0,moderate:0,severe:0,unimaginable:0};e.listOfPainEntries.listOfEntries.forEach((function(e){0===e.painScale?t.none++:1===e.painScale||2===e.painScale||3===e.painScale?t.minor++:4===e.painScale||5===e.painScale||6===e.painScale?t.moderate++:7===e.painScale||8===e.painScale||9===e.painScale?t.severe++:10===e.painScale&&t.unimaginable++}));var n=Object(a.useState)(t),i=Object(j.a)(n,1)[0];return Object(O.jsxs)(x,{newStyle:{padding:"4.5rem",marginTop:"4rem"},children:[Object(O.jsx)(p.a,{variant:"h4",children:"Pain Intensity - Scale Frequency"}),Object(O.jsxs)(p.a,{variant:"body1",children:["Total pain records: ",void 0===e.listOfPainEntries.listOfEntries[0]||"I"===e.listOfPainEntries.listOfEntries[0][0]?0:e.listOfPainEntries.listOfEntries.length]}),Object(O.jsxs)("div",{className:Ut.a["pain-records-container"],children:[Object(O.jsx)("div",{className:"".concat(Ut.a.none," scale-container"),children:i.none}),Object(O.jsx)("div",{className:"".concat(Ut.a.minor," scale-container"),children:i.minor}),Object(O.jsx)("div",{className:"".concat(Ut.a.moderate," scale-container"),children:i.moderate}),Object(O.jsx)("div",{className:"".concat(Ut.a.severe," scale-container"),children:i.severe}),Object(O.jsx)("div",{className:"".concat(Ut.a.unimaginable," scale-container"),children:i.unimaginable})]})]})},Lt=n(252),Bt=n(113),At=n.n(Bt),Pt=function(e){if(0===e.length)return 0;for(var t=0,n=0;n<e.length;n++)t+=e[n];return(t/e.length).toFixed(2)},Ft=function(e){var t={earlyMorning:[],morning:[],afternoon:[],evening:[]};e.listOfPainEntries.listOfEntries.forEach((function(e){if(e.date){var n=function(e){e=e.split(":");var t=new Date;return Object(Lt.a)(Date,[t.getFullYear(),t.getMonth(),t.getDate()].concat(Object(d.a)(e))).getHours()}(e.date.time);n<6?t.earlyMorning.push(e.painScale):n<12?t.morning.push(e.painScale):n<18?t.afternoon.push(e.painScale):t.evening.push(e.painScale)}}));var n=Object(a.useState)(t),i=Object(j.a)(n,1)[0];return Object(O.jsxs)(x,{newStyle:{padding:"4.5rem"},children:[Object(O.jsx)(p.a,{variant:"h4",children:"Pain Intensity - Time Periods"}),Object(O.jsxs)("div",{className:At.a["time-periods-container"],children:[Object(O.jsxs)("div",{className:At.a["time-container"],children:[Object(O.jsx)("h4",{children:"Occurrences:"}),Object(O.jsx)("p",{children:i.earlyMorning.length}),Object(O.jsx)("h4",{children:"Average: "}),Object(O.jsx)("p",{children:Pt(i.earlyMorning)}),Object(O.jsx)("h4",{children:"00:00 - 06:00"}),Object(O.jsx)("p",{children:"Early Morning"})]}),Object(O.jsxs)("div",{className:At.a["time-container"],children:[Object(O.jsx)("h4",{children:"Occurrences:"}),Object(O.jsx)("p",{children:i.morning.length}),Object(O.jsx)("h4",{children:"Average: "}),Object(O.jsx)("p",{children:Pt(i.morning)}),Object(O.jsx)("h4",{children:"06:00 - 12:00"}),Object(O.jsx)("p",{children:"Morning"})]}),Object(O.jsxs)("div",{className:At.a["time-container"],children:[Object(O.jsx)("h4",{children:"Occurrences:"}),Object(O.jsx)("p",{children:i.afternoon.length}),Object(O.jsx)("h4",{children:"Average: "}),Object(O.jsx)("p",{children:Pt(i.afternoon)}),Object(O.jsx)("h4",{children:"12:00 - 18:00"}),Object(O.jsx)("p",{children:"Afternoon"})]}),Object(O.jsxs)("div",{className:At.a["time-container"],children:[Object(O.jsx)("h4",{children:"Occurrences:"}),Object(O.jsx)("p",{children:i.evening.length}),Object(O.jsx)("h4",{children:"Average: "}),Object(O.jsx)("p",{children:Pt(i.evening)}),Object(O.jsx)("h4",{children:"18:00 - 00:00"}),Object(O.jsx)("p",{children:"Evening"})]})]})]})},zt=n(34);function Rt(e,t){var n,a={},i=[],c=Object(zt.a)(e);try{for(c.s();!(n=c.n()).done;){var r=n.value;a[r]=a[r]?a[r]+1:1}}catch(u){c.e(u)}finally{c.f()}for(var o in a){var s=a[o],l=s/t*100,d=o;i.push({name:d,factorAverage:l,count:s})}return i.sort(qt),i}function qt(e,t){return e.factorAverage>t.factorAverage?-1:e.factorAverage<t.factorAverage?1:0}function Wt(e,t,n){var a=[];return function(e,t){var n=[];return e.forEach((function(e){var a=n.findIndex((function(t){return t.name===e.name}));-1===a&&e.effect===t?n.push({name:e.name,effecttoAVG:1,total:1,effectName:t}):-1===a&&e.effect!==t?n.push({name:e.name,effecttoAVG:0,total:1,effectName:t}):-1!==a&&e.effect===t?(n[a].effecttoAVG++,n[a].total++):n[a].total++})),n}(function(e,t){var n=e.map((function(e){return{name:e.medicationName,effect:e.effect}})),a=t.map((function(e){return{name:e.treatmentName,effect:e.effect}}));return n.concat(a)}(e,t),n).forEach((function(e){if(0!==e.effecttoAVG){var t=e.effecttoAVG/e.total*100;a.push({name:e.name,factorAverage:t})}})),a.sort(qt),a}var Gt={card:{height:"400",width:"90%",textAlign:"center",padding:"2.5rem "}},_t=function(){var e,t=Object(a.useContext)(F),n=Gt;e=t.isPainUser?t.userUID:t.userToSpectUID;var i=Object(a.useState)({listOfEntries:null,locationFrequency:null,negativeEffectFrequency:null,positiveEffectFrequency:null,ineffectualFactorFrequency:null}),c=Object(j.a)(i,2),r=c[0],o=c[1],s=Object(a.useState)(!0),u=Object(j.a)(s,2),h=u[0],p=u[1];return Object(a.useEffect)((function(){fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(e,"/pain-entries.json")).then((function(e){return e.json()})).then((function(e){var t=[],n=[],a=[],i=[];for(var c in e){var r=Object(l.a)({},e[c]);i.push(r),e[c].painLocation&&t.push.apply(t,Object(d.a)(e[c].painLocation)),e[c].medicine&&n.push.apply(n,Object(d.a)(e[c].medicine)),e[c].treatment&&a.push.apply(a,Object(d.a)(e[c].treatment))}o({listOfEntries:i,locationFrequency:Rt(t,i.length),negativeEffectFrequency:Wt(n,a,"Worse"),positiveEffectFrequency:Wt(n,a,"Better"),ineffectualFactorFrequency:Wt(n,a,"No Change")}),p(!1)}))}),[]),h?Object(O.jsx)(D.a,{}):Object(O.jsx)(b.a,{maxWidth:"lg",children:Object(O.jsxs)(y.a,{container:!0,children:[Object(O.jsx)(y.a,{item:!0,xs:12,children:Object(O.jsx)(Mt,{listOfPainEntries:r})}),Object(O.jsx)(y.a,{item:!0,xs:12,children:Object(O.jsx)(Ft,{listOfPainEntries:r})}),Object(O.jsx)(y.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(O.jsx)(x,{newStyle:n.card,children:Object(O.jsx)(Et,{statsTitle:"Pain Locations",frequencyData:r.locationFrequency,barColor:"#83E8FF"})})}),Object(O.jsx)(y.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(O.jsx)(x,{newStyle:n.card,children:Object(O.jsx)(Et,{statsTitle:"Negative Effects",frequencyData:r.negativeEffectFrequency,barColor:"#FF6262"})})}),Object(O.jsx)(y.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(O.jsx)(x,{newStyle:n.card,children:Object(O.jsx)(Et,{statsTitle:"Positive Effects",frequencyData:r.positiveEffectFrequency,barColor:"#84FF97"})})}),Object(O.jsx)(y.a,{item:!0,xs:12,sm:12,md:6,lg:6,xl:6,children:Object(O.jsx)(x,{newStyle:n.card,children:Object(O.jsx)(Et,{statsTitle:"Ineffectual Factors",frequencyData:r.ineffectualFactorFrequency,barColor:"#946E83"})})})]})})},Vt=n(482),Jt=n(483),Ht=n.p+"static/media/tangerine.14f98906.png",Yt=Object(h.a)((function(e){return{buttonPadding:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}})),Qt=function(){var e=Yt(),t=Object(a.useContext)(F);return Object(O.jsx)(Vt.a,{position:"sticky",children:Object(O.jsx)(Jt.a,{children:Object(O.jsxs)(y.a,{container:!0,direction:"row",children:[Object(O.jsxs)(y.a,{container:!0,direction:"row",className:e.buttonPadding,alignItems:"center",item:!0,xs:3,children:[Object(O.jsx)("img",{src:Ht,alt:"tangerine",width:"34",height:"34"}),"\xa0 \xa0",Object(O.jsx)(p.a,{variant:"h4",children:"Tangible"})]}),Object(O.jsxs)(y.a,{container:!0,direction:"row",justifyContent:"flex-end",item:!0,xs:9,children:[function(){if(t.isLoggedIn&&t.isPainUser)return Object(O.jsx)(m.a,{color:"inherit",size:"large",component:o.b,to:"/pain-entries",children:"Entry"})}(),t.isLoggedIn&&Object(O.jsx)(m.a,{color:"inherit",size:"large",component:o.b,to:"/stats",className:e.buttonPadding,children:"Statistics"}),t.isLoggedIn&&Object(O.jsx)(m.a,{color:"inherit",size:"large",component:o.b,to:"/records",className:e.buttonPadding,children:"Records"}),t.isLoggedIn&&Object(O.jsx)(m.a,{color:"inherit",size:"large",component:o.b,to:"/profile",className:e.buttonPadding,children:"Profile"}),t.isLoggedIn&&Object(O.jsx)(m.a,{color:"inherit",size:"large",variant:"outlined",component:o.b,onClick:function(){t.logout()},to:"/",className:e.buttonPadding,children:"Logout"})]})]})})})},Kt=n(485),Zt=n(484),Xt=n(487),$t=n(153),en=n.n($t);function tn(){return Object(O.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(O.jsx)(Zt.a,{color:"inherit",href:"https://material-ui.com/",children:"Tangible"})," ",(new Date).getFullYear(),"."]})}var nn=Object(h.a)((function(e){return{paper:{margin:e.spacing(12,16),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),an=function(e){var t=Object(a.useRef)(),n=Object(a.useRef)(),i=nn();return Object(O.jsx)(y.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:Object(O.jsxs)("div",{className:i.paper,children:[Object(O.jsx)(T.a,{className:i.avatar,children:Object(O.jsx)(en.a,{})}),Object(O.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(O.jsxs)("form",{className:i.form,noValidate:!0,onSubmit:function(a){a.preventDefault();var i=t.current.value,c=n.current.value;e.onSubmit(i,c)},children:[Object(O.jsx)(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,inputRef:t}),Object(O.jsx)(V.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:n}),Object(O.jsx)(oe.a,{control:Object(O.jsx)(se.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(O.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,children:"Sign In"}),Object(O.jsxs)(y.a,{container:!0,children:[Object(O.jsx)(y.a,{item:!0,xs:!0,children:Object(O.jsx)(m.a,{color:"primary",children:"Forgot password?"})}),Object(O.jsx)(y.a,{item:!0,children:Object(O.jsx)(m.a,{onClick:e.toSignUp,color:"primary",children:"Don't have an account? Sign Up"})})]}),Object(O.jsx)(Xt.a,{mt:5,children:Object(O.jsx)(tn,{})})]})]})})},cn=n(6);function rn(){return Object(O.jsxs)(p.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(O.jsx)(Zt.a,{color:"inherit",href:"https://material-ui.com/",children:"Tangible"})," ",(new Date).getFullYear(),"."]})}var on=Object(h.a)((function(e){return{ButtonOn:{"&:hover":{background:"#FF9248"},background:"#FF9248",color:"white"},ButtonOff:{"&:hover":{background:"#ededed"},background:"#ededed",color:"#787878"},paper:{margin:e.spacing(12,16),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function sn(e){var t=on(),n=Object(a.useRef)(),i=Object(a.useRef)(),c=Object(a.useRef)(),r=Object(a.useRef)(),o=Object(a.useState)("PAIN USER"),s=Object(j.a)(o,2),l=s[0],d=s[1],h=Object(a.useState)(!1),b=Object(j.a)(h,2),f=b[0],g=b[1],x=function(e){"PAIN USER"===e.target.innerText?g(!1):g(!0),d(e.target.innerText)};return Object(O.jsxs)(y.a,{item:!0,xs:12,sm:8,md:5,component:v.a,elevation:6,square:!0,children:[Object(O.jsxs)("div",{className:t.paper,children:[Object(O.jsx)(T.a,{className:t.avatar,children:Object(O.jsx)(en.a,{})}),Object(O.jsx)(p.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(O.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:function(t){t.preventDefault();var a=n.current.value,o=i.current.value,s=c.current.value+" "+r.current.value;e.onSubmit(a,o,s,l)},children:[Object(O.jsxs)(y.a,{container:!0,spacing:2,children:[Object(O.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(V.a,{autoComplete:"given-name",name:"firstName",variant:"outlined",required:!0,inputRef:c,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0})}),Object(O.jsx)(y.a,{item:!0,xs:12,sm:6,children:Object(O.jsx)(V.a,{variant:"outlined",required:!0,inputRef:r,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"family-name"})}),Object(O.jsx)(y.a,{item:!0,xs:12,children:Object(O.jsx)(V.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",inputRef:n})}),Object(O.jsx)(y.a,{item:!0,xs:12,children:Object(O.jsx)(V.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",inputRef:i})}),Object(O.jsxs)(y.a,{item:!0,xs:12,container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(O.jsx)(y.a,{item:!0,xs:5,children:Object(O.jsx)(m.a,{variant:"contained",className:Object(cn.a)(t.ButtonOn,Object(u.a)({},t.ButtonOff,f)),size:"large",onClick:x,fullWidth:"true",children:"Pain User"})}),Object(O.jsx)(y.a,{item:!0,xs:5,children:Object(O.jsx)(m.a,{variant:"contained",onClick:x,className:Object(cn.a)(t.ButtonOn,Object(u.a)({},t.ButtonOff,!f)),size:"large",fullWidth:"true",children:"Spectator"})})]})]}),Object(O.jsx)(m.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign Up"}),Object(O.jsx)(y.a,{container:!0,justifyContent:"flex-end",children:Object(O.jsx)(y.a,{item:!0,children:Object(O.jsx)(m.a,{onClick:e.toSignIn,color:"primary",children:"Already have an account? Sign in"})})})]})]}),Object(O.jsx)(Xt.a,{mt:5,children:Object(O.jsx)(rn,{})})]})}var ln=function(e){return fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(e,"/Account.json")).then((function(e){return e.ok?e.json():e.json().then((function(e){var t="Authentication failed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(e){var t={isPainUser:null,userToSpect:""},n=Object.keys(e)[0];return""!==e[n].userToSpect&&(t.userToSpect=e[n].userToSpect),"SPECTATOR"===e[n].userRole?t.isPainUser=!1:"PAIN USER"===e[n].userRole&&(t.isPainUser=!0),t})).catch((function(e){alert(e.message)}))},dn=Object(h.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://source.unsplash.com/1600x900/?health)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"}}}));function un(){var e=dn(),t=Object(a.useContext)(F),n=Object(s.g)(),i=Object(a.useState)(!0),c=Object(j.a)(i,2),r=c[0],o=c[1],l=function(){o(!r)},d=function(e,a,i,c){r?function(e,t){return fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCn_yqpancW5SEgxzlAVxtVNvj07bP4ftQ",{method:"POST",body:JSON.stringify({email:e,password:t,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t="Authentication failed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(e){return e})).catch((function(e){alert(e.message)}))}(e,a).then((function(e){e&&(t.getUserUID(e.localId),t.login(e.idToken),t.getUserEmail(e.email),ln(e.localId).then((function(e){t.getIsPainUser(e.isPainUser),""!==e.Info&&t.getUserToSpectUID(e)})),t.isPainUser?n.replace("/pain-entries"):n.replace("/profile"))})):function(e,t,n,a){return fetch("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCn_yqpancW5SEgxzlAVxtVNvj07bP4ftQ",{method:"POST",body:JSON.stringify({email:e,password:t,displayName:n,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t="Authentication failed";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)}))})).then((function(e){return e})).catch((function(e){alert(e.message)}))}(e,a,i).then((function(e){e&&(t.getUserUID(e.localId),t.login(e.idToken),t.getUserEmail(e.email),function(e,t){return fetch("https://tangible-47447-default-rtdb.europe-west1.firebasedatabase.app/".concat(e.localId,"/Account.json"),{method:"POST",body:JSON.stringify({email:e.email,name:e.displayName,userRole:t,userToSpect:"",userInfoToSpect:{}}),headers:{"Content-Type":"application/json"}})}(e,c).then((function(n){ln(e.localId).then((function(e){t.getIsPainUser(e.isPainUser)}))})),"PAIN USER"===c?n.replace("/pain-entries"):n.replace("/profile"))}))};return Object(O.jsxs)(y.a,{container:!0,component:"main",className:e.root,children:[Object(O.jsx)(Kt.a,{}),Object(O.jsx)(y.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r?Object(O.jsx)(an,{toSignUp:l,onSubmit:d}):Object(O.jsx)(sn,{toSignIn:l,onSubmit:d})]})}n(229);var jn=n(256),hn=n(486),bn=Object(jn.a)({palette:{primary:{light:"#33c9dc",main:"#00bcd4",dark:"#008394",contrastText:"#fff"},secondary:{light:"#ff6333",main:"#FF9248",dark:"#b22a00",contrastText:"#fff"}},typography:{body1:{fontSize:19,lineHeight:2},subtitle1:{color:"#888"}}});var pn=function(){var e=Object(a.useContext)(F);return Object(O.jsxs)(hn.a,{theme:bn,children:[Object(O.jsx)(Qt,{}),Object(O.jsxs)(s.d,{fallback:Object(O.jsx)("p",{children:"Loading..."}),children:[!e.isLoggedIn&&Object(O.jsx)(s.b,{path:"/tangible-chronic-pain-app",exact:!0,component:un}),e.isLoggedIn&&Object(O.jsx)(s.b,{path:"/records",component:G,children:Object(O.jsx)(G,{})}),e.isLoggedIn&&Object(O.jsx)(s.b,{path:"/stats",component:_t,children:Object(O.jsx)(_t,{})}),e.isLoggedIn&&Object(O.jsx)(s.b,{path:"/profile",component:xt,children:Object(O.jsx)(xt,{})}),!e.isPainUser&&Object(O.jsx)(s.b,{path:"/pain-entries",children:Object(O.jsx)(s.a,{to:"/stats"})}),function(){if(e.isLoggedIn&&e.isPainUser)return console.log("authCtx.isPainUser",e.isPainUser),Object(O.jsx)(s.b,{path:"/pain-entries",component:et,children:Object(O.jsx)(et,{})})}(),e.isLoggedIn&&Object(O.jsx)(s.b,{path:"*",children:Object(O.jsx)(s.a,{to:"/stats"})}),Object(O.jsx)(s.b,{path:"*",children:Object(O.jsx)(s.a,{to:"/tangible-chronic-pain-app"})})]})]})};r.a.render(Object(O.jsx)(P,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(pn,{})})}),document.getElementById("root"))},91:function(e,t,n){e.exports={"pain-records-container":"ScaleFrequency_pain-records-container__29hW3","scale-container":"ScaleFrequency_scale-container__2UCBQ",none:"ScaleFrequency_none__c229j",minor:"ScaleFrequency_minor__AAEeE",moderate:"ScaleFrequency_moderate__3tami",severe:"ScaleFrequency_severe__1ydR9",unimaginable:"ScaleFrequency_unimaginable__2n1qE"}}},[[424,1,2]]]);
//# sourceMappingURL=main.9a7bc7d8.chunk.js.map